<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
        <title>GeoExplorer</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <link rel="shortcut icon" href="theme/app/img/favicon.ico"/>
        
        <!-- IE 8 Compatibility -->
        <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
        
        <!-- Google Earth resources-->
        <!--
            Note: Replace the key below with your own key before deploying. 
            See http://code.google.com/apis/maps/signup.html for information.
        -->
        <script src="http://www.google.com/jsapi?key=ABQIAAAAUsKcmnPzjuknr-Dmg-0emhTJDNqs-N0UWIgosM1Z31aKBIjWyRTlj_ogdW3SqXdS1hkMDTgb_i7jpg"></script>
        <script type="text/javascript">google&&google.load("earth", "1");</script>
		 
        <!-- Ext resources -->
        <link rel="stylesheet" type="text/css" href="externals/ext/resources/css/ext-all.css" />
        <link rel="stylesheet" type="text/css" href="externals/ext/resources/css/xtheme-gray.css" />
        <script type="text/javascript" src="externals/ext/adapter/ext/ext-base.js"></script>
        <script type="text/javascript" src="externals/ext/ext-all.js"></script>

        <!-- OpenLayers resources -->
        <link rel="stylesheet" type="text/css" href="externals/openlayers/theme/default/style.css" />
        <script type="text/javascript" src="script/OpenLayers.js"></script>

        <!-- GeoExt resources -->
        <link rel="stylesheet" type="text/css" href="externals/geoext/resources/css/popup.css" />
        <link rel="stylesheet" type="text/css" href="externals/geoext/resources/css/layerlegend.css" />
        <link rel="stylesheet" type="text/css" href="externals/geoext/resources/css/gxtheme-slate.css" />
        <script type="text/javascript" src="script/GeoExt.js"></script> 

        <!-- gxp resources -->
        <link rel="stylesheet" type="text/css" href="externals/gxp/src/theme/all.css" />
        <script type="text/javascript" src="script/gxp.js"></script> 
        
        <!-- proj4js resources -->
        <script type="text/javascript" src="externals/proj4js/lib/proj4js-compressed.js"></script>

        <!-- GeoExplorer resources -->
        <link rel="stylesheet" type="text/css" href="theme/app/geoexplorer.css" />
        <!--[if IE]><link rel="stylesheet" type="text/css" href="theme/app/ie.css"/><![endif]-->        
        <script type="text/javascript" src="script/GeoExplorer.js"></script>
        <script type="text/javascript" src="script/ux.js"></script>

        <!-- PrintPreview resources -->
        <link rel="stylesheet" type="text/css" href="externals/PrintPreview/resources/css/printpreview.css" />
        <script type="text/javascript" src="script/PrintPreview.js"></script> 
		
        <!-- Geodata resources -->
        <script type="text/javascript" src="script/Geodata.js"></script>
		
        <script>
            Ext.BLANK_IMAGE_URL = "theme/app/img/blank.gif";
            OpenLayers.DOTS_PER_INCH = 25.4 / 0.28; // OGC "standardized rendering pixel size"
            OpenLayers.ImgPath = "externals/openlayers/img/";

            // Read lang from url param, defaults to ca.
            GeoExt.Lang.set("ca");
            if (GeoExt.Lang) {
                GeoExt.Lang.set(OpenLayers.Util.getParameters()["lang"] || GeoExt.Lang.locale);
            }

			// Load initial state from a json resource
			var app;
			Ext.Ajax.request({
                url: 'initialConfig-ctbb.json',
				success: function(response) {
					var initialConfig = Ext.decode(response.responseText);
					app = new GeoExplorer.Composer(initialConfig);
				},
				failure: function() {
					console.log('cannot load initial config');
				}
			});
        </script>
    </head>
    <body>
    </body>
</html>
